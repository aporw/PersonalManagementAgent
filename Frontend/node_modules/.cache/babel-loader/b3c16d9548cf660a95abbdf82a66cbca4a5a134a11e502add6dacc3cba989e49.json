{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState } from \"react\";\nimport { threads as mockThreads } from \"../data/threads\";\nexport function useThreads() {\n  _s();\n  var _initial$0$thread_id, _initial$, _threads$find;\n  // load threads from localStorage first, then fall back to mockThreads\n  const stored = typeof window !== \"undefined\" ? localStorage.getItem(\"ai_threads\") : null;\n  const initial = stored ? JSON.parse(stored) : mockThreads;\n  const [threads, setThreads] = useState(initial);\n  const [activeThreadId, setActiveThreadId] = useState((_initial$0$thread_id = (_initial$ = initial[0]) === null || _initial$ === void 0 ? void 0 : _initial$.thread_id) !== null && _initial$0$thread_id !== void 0 ? _initial$0$thread_id : null);\n  const activeThread = (_threads$find = threads.find(t => t.thread_id === activeThreadId)) !== null && _threads$find !== void 0 ? _threads$find : null;\n  function persist(next) {\n    setThreads(next);\n    try {\n      localStorage.setItem(\"ai_threads\", JSON.stringify(next));\n    } catch (e) {}\n  }\n  function addThread(title, description = \"\") {\n    const id = `t${Date.now()}`;\n    const now = new Date().toISOString();\n    const t = {\n      thread_id: id,\n      title,\n      description,\n      status: \"active\",\n      created_at: now,\n      last_active_at: now\n    };\n    const next = [t, ...threads];\n    persist(next);\n    setActiveThreadId(id);\n    return t;\n  }\n  return {\n    threads,\n    activeThread,\n    activeThreadId,\n    setActiveThreadId,\n    addThread\n  };\n}\n_s(useThreads, \"1CLU9BGlukaw9/IIT+E3k65jzIs=\");","map":{"version":3,"names":["useState","threads","mockThreads","useThreads","_s","_initial$0$thread_id","_initial$","_threads$find","stored","window","localStorage","getItem","initial","JSON","parse","setThreads","activeThreadId","setActiveThreadId","thread_id","activeThread","find","t","persist","next","setItem","stringify","e","addThread","title","description","id","Date","now","toISOString","status","created_at","last_active_at"],"sources":["/Users/ankurporwal/Documents/AIConsultation/Frontend/src/hooks/useThreads.ts"],"sourcesContent":["import { useState } from \"react\";\nimport { threads as mockThreads } from \"../data/threads\";\nimport { Thread } from \"../types/thinking\";\n\nexport function useThreads() {\n  // load threads from localStorage first, then fall back to mockThreads\n  const stored = typeof window !== \"undefined\" ? localStorage.getItem(\"ai_threads\") : null;\n  const initial = stored ? (JSON.parse(stored) as Thread[]) : mockThreads;\n\n  const [threads, setThreads] = useState<Thread[]>(initial);\n  const [activeThreadId, setActiveThreadId] = useState<string | null>(\n    initial[0]?.thread_id ?? null\n  );\n\n  const activeThread = threads.find((t) => t.thread_id === activeThreadId) ?? null;\n\n  function persist(next: Thread[]) {\n    setThreads(next);\n    try {\n      localStorage.setItem(\"ai_threads\", JSON.stringify(next));\n    } catch (e) {}\n  }\n\n  function addThread(title: string, description = \"\") {\n    const id = `t${Date.now()}`;\n    const now = new Date().toISOString();\n    const t: Thread = { thread_id: id, title, description, status: \"active\", created_at: now, last_active_at: now };\n    const next = [t, ...threads];\n    persist(next);\n    setActiveThreadId(id);\n    return t;\n  }\n\n  return {\n    threads,\n    activeThread,\n    activeThreadId,\n    setActiveThreadId,\n    addThread,\n  };\n}\n"],"mappings":";AAAA,SAASA,QAAQ,QAAQ,OAAO;AAChC,SAASC,OAAO,IAAIC,WAAW,QAAQ,iBAAiB;AAGxD,OAAO,SAASC,UAAUA,CAAA,EAAG;EAAAC,EAAA;EAAA,IAAAC,oBAAA,EAAAC,SAAA,EAAAC,aAAA;EAC3B;EACA,MAAMC,MAAM,GAAG,OAAOC,MAAM,KAAK,WAAW,GAAGC,YAAY,CAACC,OAAO,CAAC,YAAY,CAAC,GAAG,IAAI;EACxF,MAAMC,OAAO,GAAGJ,MAAM,GAAIK,IAAI,CAACC,KAAK,CAACN,MAAM,CAAC,GAAgBN,WAAW;EAEvE,MAAM,CAACD,OAAO,EAAEc,UAAU,CAAC,GAAGf,QAAQ,CAAWY,OAAO,CAAC;EACzD,MAAM,CAACI,cAAc,EAAEC,iBAAiB,CAAC,GAAGjB,QAAQ,EAAAK,oBAAA,IAAAC,SAAA,GAClDM,OAAO,CAAC,CAAC,CAAC,cAAAN,SAAA,uBAAVA,SAAA,CAAYY,SAAS,cAAAb,oBAAA,cAAAA,oBAAA,GAAI,IAC3B,CAAC;EAED,MAAMc,YAAY,IAAAZ,aAAA,GAAGN,OAAO,CAACmB,IAAI,CAAEC,CAAC,IAAKA,CAAC,CAACH,SAAS,KAAKF,cAAc,CAAC,cAAAT,aAAA,cAAAA,aAAA,GAAI,IAAI;EAEhF,SAASe,OAAOA,CAACC,IAAc,EAAE;IAC/BR,UAAU,CAACQ,IAAI,CAAC;IAChB,IAAI;MACFb,YAAY,CAACc,OAAO,CAAC,YAAY,EAAEX,IAAI,CAACY,SAAS,CAACF,IAAI,CAAC,CAAC;IAC1D,CAAC,CAAC,OAAOG,CAAC,EAAE,CAAC;EACf;EAEA,SAASC,SAASA,CAACC,KAAa,EAAEC,WAAW,GAAG,EAAE,EAAE;IAClD,MAAMC,EAAE,GAAG,IAAIC,IAAI,CAACC,GAAG,CAAC,CAAC,EAAE;IAC3B,MAAMA,GAAG,GAAG,IAAID,IAAI,CAAC,CAAC,CAACE,WAAW,CAAC,CAAC;IACpC,MAAMZ,CAAS,GAAG;MAAEH,SAAS,EAAEY,EAAE;MAAEF,KAAK;MAAEC,WAAW;MAAEK,MAAM,EAAE,QAAQ;MAAEC,UAAU,EAAEH,GAAG;MAAEI,cAAc,EAAEJ;IAAI,CAAC;IAC/G,MAAMT,IAAI,GAAG,CAACF,CAAC,EAAE,GAAGpB,OAAO,CAAC;IAC5BqB,OAAO,CAACC,IAAI,CAAC;IACbN,iBAAiB,CAACa,EAAE,CAAC;IACrB,OAAOT,CAAC;EACV;EAEA,OAAO;IACLpB,OAAO;IACPkB,YAAY;IACZH,cAAc;IACdC,iBAAiB;IACjBU;EACF,CAAC;AACH;AAACvB,EAAA,CApCeD,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}